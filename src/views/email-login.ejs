<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<%- include('partials/head.ejs') %>
	<title>Email Login</title>
</head>
<body class="login-body">
	<div class="login-body-flex">
		<header>
		<%- include('partials/header.ejs') %>
	</header>
	<% if(error) {%>
		<% if(errorType === 'Success') { %>
			<div class="error_container error_container--success">
				<div class="col--1">
					<div class="error_container__icon">
						<i class="fas fa-check-circle"></i>
					</div>	
				</div>
				<div class="col--2">
					<div class="error_container__title heading-3">
						Success
					</div>
					<span class="para-1 error" id="cancelLogin"><%= error %> <!-- Valid Only for 60 Seconds. --></span>	
				</div>
				<div class="col--3">
					<div class="error_container__icon" id="cross">
						<i class="fas fa-times"></i>
					</div>		
				</div>
			</div>
		<% } %>
		<% if(errorType === 'Failure') { %>
			<div class="error_container">
				<div class="col--1">
					<div class="error_container__icon">
						<i class="fas fa-times-circle"></i>
					</div>	
				</div>
				<div class="col--2">
					<div class="error_container__title heading-3">
						Failure
					</div>
					<span class="para-1 error" id="cancelLogin"><%= error %> <!-- Valid Only for 60 Seconds. --></span>	
				</div>
				<div class="col--3">
					<div class="error_container__icon" id="cross">
						<i class="fas fa-times"></i>
					</div>		
				</div>
			</div>
		<% } %>
		<% if(errorType === 'Info') { %>
			<div class="error_container error_container--info">
				<div class="col--1">
					<div class="error_container__icon">
						<i class="fas fa-info-circle"></i>
					</div>	
				</div>
				<div class="col--2">
					<div class="error_container__title heading-3">
						Info
					</div>
					<span class="para-1 error" id="cancelLogin"><%= error %> <!-- Valid Only for 60 Seconds. --></span>	
				</div>
				<div class="col--3">
					<div class="error_container__icon" id="cross">
						<i class="fas fa-times"></i>
					</div>		
				</div>
			</div>
		<% } %>
	<% } %>
		<section class="form_container">
			
			<h1 class="form_container__heading">Email Login</h1>
			<form method="POST" action="/email-login" class="form_container__form">
				<div class="form_container__form__input_field">
					<input name="email" type="email" placeholder="Enter Email Address" class="form_container__form__phone_number" required>
				</div>
				<div class="form_container__form__input_field">
					<input type="password" name="password" placeholder="Enter Password" class="form_container__form__password" id="passwordField" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>
					<i class="fas fa-eye fa-eye-slash" id="showPassword"></i>
				</div>
				<div class="try_another_method try_another_method--email">
					<a href="/phone-login">
						<span class="para-1">Login with OTP</span>
					</a>
					<span id="forgotPassword">
						<span class="para-1">Forgot Password</span> 
					</span>
				</div>
				<button type="submit" class="form_container__form__submit">
					<span class="form_container__form__submit__text">Login</span>
					<span class="form_container__form__submit__icon"><i class="fas fa-arrow-right"></i></span>
				</button>
			</form>
			<span class="form_container__signup">Not Registered? <span><a href="/signup">Sign Up</a></span></span>
		</section>
		<section class="copyright">
			<span>All Rights Reserved &copy; Tvastra 2020</span>
		</section>	
	</div>
	<script>
		const showPasswordBtn = document.querySelector('#showPassword');
		const passwordField = document.querySelector('#passwordField');
		showPasswordBtn.addEventListener('click', (el) => {
			console.log(showPasswordBtn.classList);
			showPasswordBtn.classList.toggle("fa-eye-slash");
			if(passwordField.type == 'text') {
				passwordField.type = 'password';	
			} else {
				passwordField.type = 'text';
			}
		})
	</script>
	<script src="forgotPassword.js"></script>
	<script type="text/javascript" src="index.js"></script>
	<script src="error.js"></script>
</body>
</html>